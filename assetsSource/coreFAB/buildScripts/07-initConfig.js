/*============================================================================*\
	DO NOT EDIT THIS FILE. THIS IS A CORE FILE.
/*============================================================================*/

module.exports = function(grunt, vars) {
	vars.conf.jsMangle = vars.projectFile.jsCompress;
	vars.conf.jsCompress = vars.projectFile.jsCompress;
	vars.conf.jsBeautify = ! vars.projectFile.jsCompress;

	grunt.initConfig({
		// Configure vars
		conf: vars.conf,
		projectFile: vars.projectFile,

		/**
		 * Browser Sync
		 */
		browserSync: {
			bsFiles: vars.conf.bsFiles,
			options: vars.conf.bsOptions
		},

		/**
		 * Notify
		 */
		notify: {
			less: {
				options: {
					title: 'CSS',
					message: 'CSS compiled successfully'
				}
			},
			uglify: {
				options: {
					title: 'Javascript',
					message: 'Javascript compiled successfully'
				}
			}
		},

		/**
		 * Less
		 */
		less: {
			development: {
				options: {
					compress: vars.conf.lessCompress,
					yuicompress: vars.conf.lessCompress,
					optimization: 2,
					plugins: [
						require('less-plugin-glob')
					]
				},
				files: vars.conf.lessFiles
			}
		},

		/**
		 * Uglify
		 */
		uglify: {
			build: {
				options: {
					sourceMap: vars.conf.sourceMaps,
					mangle: vars.conf.jsMangle,
					compress: vars.conf.jsCompress,
					beautify: vars.conf.jsBeautify,
					sourceMapIncludeSources: true
				},
				files: vars.conf.jsFiles
			}
		},

		/**
		 * JSHint
		 */
		jshint: {
			files: [
				'<%= conf.assetsSource %>/js/build/**/*.js',
				'<%= conf.assetsSource %>/js/*.js'
			],
			options: {
				jshintrc: true
			}
		},

		/**
		 * JSCS
		 */
		jscs: {
			src: [
				'<%= conf.assetsSource %>/js/build/**/*.js',
				'<%= conf.assetsSource %>/js/*.js'
			],
			options: {
				config: '.jscs.json'
			}
		},

		/**
		 * Clean
		 */
		clean: {
			cssLib: '<%= conf.assetsPath %>/css/lib/**/*',
			jsLib: '<%= conf.assetsPath %>/js/lib/**/*',
			images: '<%= conf.assetsPath %>/img/**/*',
			fonts: '<%= conf.assetsPath %>/fonts/**/*',
			moduleCssLib: '<%= conf.assetsPath %>/modules/**/css/lib/**/*',
			moduleJsLib: '<%= conf.assetsPath %>/modules/**/js/lib/**/*',
			moduleImages: '<%= conf.assetsPath %>/modules/**/img/**/*',
			moduleFonts: '<%= conf.assetsPath %>/modules/**/fonts/**/*',
			moduleFiles: '<%= conf.assetsPath %>/modules/**/files/**/*'
		},

		/**
		 * Copy
		 */
		copy: {
			cssLib: {
				files: [
					{
						expand: true,
						cwd: '<%= conf.assetsSource %>/css/lib/',
						src: '**',
						dest: '<%= conf.assetsPath %>/css/lib/'
					}
				]
			},
			jsLib: {
				files: [
					{
						expand: true,
						cwd: '<%= conf.assetsSource %>/js/lib/',
						src: '**',
						dest: '<%= conf.assetsPath %>/js/lib/'
					}
				]
			},
			images: {
				files: [
					{
						expand: true,
						cwd: '<%= conf.assetsSource %>/img/',
						src: '**',
						dest: '<%= conf.assetsPath %>/img/'
					}
				]
			},
			fonts: {
				files: [
					{
						expand: true,
						cwd: '<%= conf.assetsSource %>/fonts/',
						src: '**',
						dest: '<%= conf.assetsPath %>/fonts/'
					}
				]
			},
			moduleBuildCssLib: {
				files: [
					{
						expand: true,
						cwd: '<%= conf.assetsSource %>/modules/build/',
						src: '**/css/lib/**',
						dest: '<%= conf.assetsPath %>/modules/'
					}
				]
			},
			moduleBuildJsLib: {
				files: [
					{
						expand: true,
						cwd: '<%= conf.assetsSource %>/modules/build/',
						src: '**/js/lib/**',
						dest: '<%= conf.assetsPath %>/modules/'
					}
				]
			},
			moduleBuildImages: {
				files: [
					{
						expand: true,
						cwd: '<%= conf.assetsSource %>/modules/build/',
						src: '**/img/**',
						dest: '<%= conf.assetsPath %>/modules/'
					}
				]
			},
			moduleBuildFonts: {
				files: [
					{
						expand: true,
						cwd: '<%= conf.assetsSource %>/modules/build/',
						src: '**/fonts/**',
						dest: '<%= conf.assetsPath %>/modules/'
					}
				]
			},
			moduleBuildFiles: {
				files: [
					{
						expand: true,
						cwd: '<%= conf.assetsSource %>/modules/build/',
						src: '**/files/**',
						dest: '<%= conf.assetsPath %>/modules/'
					}
				]
			},
			moduleCompileCssLib: {
				files: [
					{
						expand: true,
						cwd: '<%= conf.assetsSource %>/modules/compile/',
						src: '**/css/lib/**',
						dest: '<%= conf.assetsPath %>/modules/'
					}
				]
			},
			moduleCompileJsLib: {
				files: [
					{
						expand: true,
						cwd: '<%= conf.assetsSource %>/modules/compile/',
						src: '**/js/lib/**',
						dest: '<%= conf.assetsPath %>/modules/'
					}
				]
			},
			moduleCompileImages: {
				files: [
					{
						expand: true,
						cwd: '<%= conf.assetsSource %>/modules/compile/',
						src: '**/img/**',
						dest: '<%= conf.assetsPath %>/modules/'
					}
				]
			},
			moduleCompileFonts: {
				files: [
					{
						expand: true,
						cwd: '<%= conf.assetsSource %>/modules/compile/',
						src: '**/fonts/**',
						dest: '<%= conf.assetsPath %>/modules/'
					}
				]
			},
			moduleCompileFiles: {
				files: [
					{
						expand: true,
						cwd: '<%= conf.assetsSource %>/modules/compile/',
						src: '**/files/**',
						dest: '<%= conf.assetsPath %>/modules/'
					}
				]
			}
		},

		/**
		 * Watch
		 */
		watch: {
			cssLib: {
				files: '<%= conf.assetsSource %>/css/lib/**',
				tasks: [
					'clean:cssLib',
					'copy:cssLib'
				],
				options: {
					spawn: false
				}
			},
			jsLib: {
				files: '<%= conf.assetsSource %>/js/lib/**',
				tasks: [
					'clean:jsLib',
					'copy:jsLib'
				],
				options: {
					spawn: false
				}
			},
			images: {
				files: '<%= conf.assetsSource %>/img/**',
				tasks: [
					'clean:images',
					'copy:images'
				],
				options: {
					spawn: false
				}
			},
			fonts: {
				files: '<%= conf.assetsSource %>/fonts/**',
				tasks: [
					'clean:fonts',
					'copy:fonts'
				],
				options: {
					spawn: false
				}
			},
			moduleBuildCssLib: {
				files: '<%= conf.assetsSource %>/modules/build/**/css/lib/**',
				tasks: [
					'clean:moduleCssLib',
					'copy:moduleBuildCssLib'
				],
				options: {
					spawn: false
				}
			},
			moduleBuildJsLib: {
				files: '<%= conf.assetsSource %>/modules/build/**/js/lib/**',
				tasks: [
					'clean:moduleJsLib',
					'copy:moduleBuildJsLib'
				],
				options: {
					spawn: false
				}
			},
			moduleBuildImages: {
				files: '<%= conf.assetsSource %>/modules/build/**/img/**',
				tasks: [
					'clean:moduleImages',
					'copy:moduleBuildImages'
				],
				options: {
					spawn: false
				}
			},
			moduleBuildFonts: {
				files: '<%= conf.assetsSource %>/modules/build/**/fonts/**',
				tasks: [
					'clean:moduleFonts',
					'copy:moduleBuildFonts'
				],
				options: {
					spawn: false
				}
			},
			moduleBuildFiles: {
				files: '<%= conf.assetsSource %>/modules/build/**/files/**',
				tasks: [
					'clean:moduleFiles',
					'copy:moduleBuildFiles'
				],
				options: {
					spawn: false
				}
			},
			moduleCompileCssLib: {
				files: '<%= conf.assetsSource %>/modules/compile/**/css/lib/**',
				tasks: [
					'clean:moduleCssLib',
					'copy:moduleCompileCssLib'
				],
				options: {
					spawn: false
				}
			},
			moduleCompileJsLib: {
				files: '<%= conf.assetsSource %>/modules/compile/**/js/lib/**',
				tasks: [
					'clean:moduleJsLib',
					'copy:moduleCompileJsLib'
				],
				options: {
					spawn: false
				}
			},
			moduleCompileImages: {
				files: '<%= conf.assetsSource %>/modules/compile/**/img/**',
				tasks: [
					'clean:moduleImages',
					'copy:moduleCompileImages'
				],
				options: {
					spawn: false
				}
			},
			moduleCompileFonts: {
				files: '<%= conf.assetsSource %>/modules/compile/**/fonts/**',
				tasks: [
					'clean:moduleFonts',
					'copy:moduleCompileFonts'
				],
				options: {
					spawn: false
				}
			},
			moduleCompileFiles: {
				files: '<%= conf.assetsSource %>/modules/compile/**/files/**',
				tasks: [
					'clean:moduleFiles',
					'copy:moduleCompileFiles'
				],
				options: {
					spawn: false
				}
			},
			styles: {
				files: [
					'<%= conf.assetsSource %>/coreFAB/css/**/*',
					'<%= conf.assetsSource %>/css/**',
					'<%= conf.assetsSource %>/modules/build/**/css/**',
					'<%= conf.assetsSource %>/modules/compile/**/css/**'
				],
				tasks: [
					'less',
					'notify:less'
				],
				options: {
					spawn: false
				}
			},
			javascript: {
				files: [
					'<%= conf.assetsSource %>/coreFAB/js/**/*',
					'<%= conf.assetsSource %>/js/**',
					'<%= conf.assetsSource %>/modules/build/**/js/**'
				],
				tasks: [
					'uglify',
					'notify:uglify'
				],
				options: {
					spawn: false
				}
			},
			jshint: {
				files: [
					'<%= jshint.files %>'
				],
				tasks: [
					'jshint'
				],
				options: {
					spawn: false
				}
			},
			jscs: {
				files: [
					'<%= jscs.src %>'
				],
				tasks: [
					'jscs'
				],
				options: {
					spawn: false
				}
			}
		}
	});
};
